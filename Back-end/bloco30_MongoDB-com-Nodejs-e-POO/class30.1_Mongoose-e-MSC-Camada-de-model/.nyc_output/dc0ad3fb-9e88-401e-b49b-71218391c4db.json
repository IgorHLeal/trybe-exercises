{"/home/igorlealh/dev-trybe/repositorio/trybe-exercises/Back-end/bloco30_MongoDB-com-Nodejs-e-POO/class30.1_Mongoose-e-MSC-Camada-de-model/src/controllers/Frame.ts":{"path":"/home/igorlealh/dev-trybe/repositorio/trybe-exercises/Back-end/bloco30_MongoDB-com-Nodejs-e-POO/class30.1_Mongoose-e-MSC-Camada-de-model/src/controllers/Frame.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":33}},"2":{"start":{"line":11,"column":36},"end":{"line":11,"column":44}},"3":{"start":{"line":12,"column":22},"end":{"line":12,"column":41}},"4":{"start":{"line":13,"column":24},"end":{"line":13,"column":57}},"5":{"start":{"line":14,"column":8},"end":{"line":14,"column":45}},"6":{"start":{"line":17,"column":23},"end":{"line":17,"column":65}},"7":{"start":{"line":18,"column":8},"end":{"line":18,"column":44}},"8":{"start":{"line":21,"column":23},"end":{"line":21,"column":49}},"9":{"start":{"line":22,"column":8},"end":{"line":22,"column":44}},"10":{"start":{"line":25,"column":23},"end":{"line":25,"column":65}},"11":{"start":{"line":26,"column":8},"end":{"line":26,"column":44}},"12":{"start":{"line":29,"column":0},"end":{"line":29,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":26},"end":{"line":6,"column":5}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":10,"column":9},"end":{"line":15,"column":5}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":28},"end":{"line":19,"column":5}},"line":16},"3":{"name":"(anonymous_3)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":26},"end":{"line":23,"column":5}},"line":20},"4":{"name":"(anonymous_4)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":28},"end":{"line":27,"column":5}},"line":24}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":1},"b":{},"inputSourceMap":{"version":3,"file":"/home/igorlealh/dev-trybe/repositorio/trybe-exercises/Back-end/bloco30_MongoDB-com-Nodejs-e-POO/class30.1_Mongoose-e-MSC-Camada-de-model/src/controllers/Frame.ts","sources":["/home/igorlealh/dev-trybe/repositorio/trybe-exercises/Back-end/bloco30_MongoDB-com-Nodejs-e-POO/class30.1_Mongoose-e-MSC-Camada-de-model/src/controllers/Frame.ts"],"names":[],"mappings":";;AAIA,MAAqB,eAAe;IAClC,YAAoB,QAA0B;QAA1B,aAAQ,GAAR,QAAQ,CAAkB;IAAI,CAAC;IAE5C,KAAK,CAAC,MAAM,CACjB,GAAY;IACZ,qDAAqD;IACrD,8EAA8E;IAC9E,GAAqB;QAErB,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;QACrC,MAAM,KAAK,GAAG,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;QAClC,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QAClD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IACvC,CAAC;IAEM,KAAK,CAAC,OAAO,CAClB,GAAY,EACZ,GAAqB;QAErB,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;QAC1D,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACtC,CAAC;IAEM,KAAK,CAAC,IAAI,CACf,IAAa,EACb,GAAuB;QAEvB,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;QAC1C,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACtC,CAAC;IAEM,KAAK,CAAC,OAAO,CAClB,GAAY,EACZ,GAAqB;QAErB,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;QAC1D,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACtC,CAAC;CACF;AAtCD,kCAsCC","sourcesContent":["import { Request, Response } from 'express';\nimport IService from '../interfaces/IService';\nimport IFrame from '../interfaces/Frame';\n\nexport default class FrameController {\n  constructor(private _service: IService<IFrame>) { }\n\n  public async create(\n    req: Request,\n    // Usamos o IFrame como parâmetro genérico do Request\n    // para declarar que vamos responder a requisição com um objeto do tipo IFrame\n    res: Response<IFrame>,\n  ) {\n    const { material, color } = req.body;\n    const frame = { material, color };\n    const results = await this._service.create(frame);\n    return res.status(201).json(results);\n  }\n\n  public async readOne(\n    req: Request,\n    res: Response<IFrame>,\n  ) {\n    const result = await this._service.readOne(req.params.id);\n    return res.status(200).json(result);\n  }\n\n  public async read(\n    _req: Request,\n    res: Response<IFrame[]>,\n  ) {\n    const frames = await this._service.read();\n    return res.status(200).json(frames);\n  }\n\n  public async destroy(\n    req: Request,\n    res: Response<IFrame>,\n  ) {\n    const result = await this._service.destroy(req.params.id);\n    return res.status(200).json(result);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"25ba39c4055f149c9bb1f170cd09e6310b928af0"},"/home/igorlealh/dev-trybe/repositorio/trybe-exercises/Back-end/bloco30_MongoDB-com-Nodejs-e-POO/class30.1_Mongoose-e-MSC-Camada-de-model/src/services/Frame.ts":{"path":"/home/igorlealh/dev-trybe/repositorio/trybe-exercises/Back-end/bloco30_MongoDB-com-Nodejs-e-POO/class30.1_Mongoose-e-MSC-Camada-de-model/src/services/Frame.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":16},"end":{"line":3,"column":46}},"2":{"start":{"line":4,"column":18},"end":{"line":4,"column":46}},"3":{"start":{"line":8,"column":8},"end":{"line":8,"column":28}},"4":{"start":{"line":12,"column":23},"end":{"line":12,"column":60}},"5":{"start":{"line":14,"column":8},"end":{"line":16,"column":9}},"6":{"start":{"line":15,"column":12},"end":{"line":15,"column":31}},"7":{"start":{"line":17,"column":8},"end":{"line":17,"column":47}},"8":{"start":{"line":20,"column":22},"end":{"line":20,"column":52}},"9":{"start":{"line":21,"column":8},"end":{"line":22,"column":65}},"10":{"start":{"line":22,"column":12},"end":{"line":22,"column":65}},"11":{"start":{"line":23,"column":8},"end":{"line":23,"column":21}},"12":{"start":{"line":26,"column":23},"end":{"line":26,"column":41}},"13":{"start":{"line":27,"column":8},"end":{"line":27,"column":22}},"14":{"start":{"line":30,"column":22},"end":{"line":30,"column":52}},"15":{"start":{"line":31,"column":8},"end":{"line":32,"column":65}},"16":{"start":{"line":32,"column":12},"end":{"line":32,"column":65}},"17":{"start":{"line":33,"column":8},"end":{"line":33,"column":21}},"18":{"start":{"line":36,"column":0},"end":{"line":36,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":23},"end":{"line":9,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":22},"end":{"line":18,"column":5}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":23},"end":{"line":24,"column":5}},"line":19},"3":{"name":"(anonymous_3)","decl":{"start":{"line":25,"column":4},"end":{"line":25,"column":5}},"loc":{"start":{"line":25,"column":17},"end":{"line":28,"column":5}},"line":25},"4":{"name":"(anonymous_4)","decl":{"start":{"line":29,"column":4},"end":{"line":29,"column":5}},"loc":{"start":{"line":29,"column":23},"end":{"line":34,"column":5}},"line":29}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":8},"end":{"line":16,"column":9}},"type":"if","locations":[{"start":{"line":14,"column":8},"end":{"line":16,"column":9}},{"start":{"line":14,"column":8},"end":{"line":16,"column":9}}],"line":14},"1":{"loc":{"start":{"line":21,"column":8},"end":{"line":22,"column":65}},"type":"if","locations":[{"start":{"line":21,"column":8},"end":{"line":22,"column":65}},{"start":{"line":21,"column":8},"end":{"line":22,"column":65}}],"line":21},"2":{"loc":{"start":{"line":31,"column":8},"end":{"line":32,"column":65}},"type":"if","locations":[{"start":{"line":31,"column":8},"end":{"line":32,"column":65}},{"start":{"line":31,"column":8},"end":{"line":32,"column":65}}],"line":31}},"s":{"0":1,"1":1,"2":1,"3":2,"4":2,"5":2,"6":1,"7":1,"8":2,"9":2,"10":1,"11":1,"12":1,"13":1,"14":2,"15":2,"16":1,"17":1,"18":1},"f":{"0":2,"1":2,"2":2,"3":1,"4":2},"b":{"0":[1,1],"1":[1,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"/home/igorlealh/dev-trybe/repositorio/trybe-exercises/Back-end/bloco30_MongoDB-com-Nodejs-e-POO/class30.1_Mongoose-e-MSC-Camada-de-model/src/services/Frame.ts","sources":["/home/igorlealh/dev-trybe/repositorio/trybe-exercises/Back-end/bloco30_MongoDB-com-Nodejs-e-POO/class30.1_Mongoose-e-MSC-Camada-de-model/src/services/Frame.ts"],"names":[],"mappings":";;AACA,+CAA6D;AAE7D,+CAA+C;AAE/C,MAAM,YAAY;IAIhB,gDAAgD;IAChD,YAAY,KAAoB;QAC9B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACtB,CAAC;IAEM,KAAK,CAAC,MAAM,CAAC,GAAW;QAC7B,yGAAyG;QACzG,MAAM,MAAM,GAAG,sBAAc,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QAE7C,iFAAiF;QACjF,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;YACnB,MAAM,MAAM,CAAC,KAAK,CAAC,CAAC,sDAAsD;SAC3E;QACD,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IACzC,CAAC;IAEM,KAAK,CAAC,OAAO,CAAC,GAAU;QAC7B,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAC7C,IAAI,CAAC,KAAK;YAAE,MAAM,IAAI,KAAK,CAAC,oBAAU,CAAC,cAAc,CAAC,CAAC;QACvD,OAAO,KAAK,CAAC;IACf,CAAC;IAEM,KAAK,CAAC,IAAI;QACf,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;QAClC,OAAO,MAAM,CAAC;IAChB,CAAC;IAEM,KAAK,CAAC,OAAO,CAAC,GAAW;QAC9B,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAC7C,IAAI,CAAC,KAAK;YAAE,MAAM,IAAI,KAAK,CAAC,oBAAU,CAAC,cAAc,CAAC,CAAC;QACvD,OAAO,KAAK,CAAC;IACf,CAAC;CACF;AAED,kBAAe,YAAY,CAAC","sourcesContent":["import IService from '../interfaces/IService';\nimport IFrame, { FrameZodSchema } from '../interfaces/Frame';\nimport IModel from '../interfaces/IModel';\nimport { ErrorTypes } from '../errors/catalog';\n\nclass FrameService implements IService<IFrame> {\n  // quando fazemos IService<IFrame> acima \n  // estamos implementando a interface com o tipo IFrame com o parâmetro genérico\n  private _frame:IModel<IFrame>;\n  // o mesmo fazemos aqui com a interface do Model\n  constructor(model:IModel<IFrame>) {\n    this._frame = model;\n  }\n\n  public async create(obj:unknown):Promise<IFrame> {\n    // recebemos uma variável qualquer, e garantimos que ela é um objeto com formato correto utilizando o zod\n    const parsed = FrameZodSchema.safeParse(obj);\n\n    // agora, caso os tipos estejam errados (success = false), nós lançaremos um erro\n    if (!parsed.success) {\n      throw parsed.error; // vamos falar sobre como esse erro tratá-lo logo logo\n    }\n    return this._frame.create(parsed.data);\n  }\n\n  public async readOne(_id:string):Promise<IFrame> {\n    const frame = await this._frame.readOne(_id);\n    if (!frame) throw new Error(ErrorTypes.EntityNotFound);\n    return frame;\n  }\n\n  public async read() {\n    const frames = this._frame.read();\n    return frames;\n  }\n\n  public async destroy(_id: string): Promise<IFrame> {\n    const frame = await this._frame.destroy(_id);\n    if (!frame) throw new Error(ErrorTypes.EntityNotFound);\n    return frame;\n  }\n}\n\nexport default FrameService;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6cd2021f59f8d2ab8f36af4bdca4f101fc2b25b8"},"/home/igorlealh/dev-trybe/repositorio/trybe-exercises/Back-end/bloco30_MongoDB-com-Nodejs-e-POO/class30.1_Mongoose-e-MSC-Camada-de-model/src/models/Frame.ts":{"path":"/home/igorlealh/dev-trybe/repositorio/trybe-exercises/Back-end/bloco30_MongoDB-com-Nodejs-e-POO/class30.1_Mongoose-e-MSC-Camada-de-model/src/models/Frame.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":19},"end":{"line":6,"column":38}},"4":{"start":{"line":7,"column":21},"end":{"line":7,"column":61}},"5":{"start":{"line":8,"column":28},"end":{"line":11,"column":2}},"6":{"start":{"line":14,"column":8},"end":{"line":14,"column":21}},"7":{"start":{"line":17,"column":0},"end":{"line":17,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":77},"end":{"line":15,"column":5}},"line":13}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":13,"column":16},"end":{"line":13,"column":75}},"type":"default-arg","locations":[{"start":{"line":13,"column":24},"end":{"line":13,"column":75}}],"line":13}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":3,"7":1},"f":{"0":1,"1":3},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[3]},"inputSourceMap":{"version":3,"file":"/home/igorlealh/dev-trybe/repositorio/trybe-exercises/Back-end/bloco30_MongoDB-com-Nodejs-e-POO/class30.1_Mongoose-e-MSC-Camada-de-model/src/models/Frame.ts","sources":["/home/igorlealh/dev-trybe/repositorio/trybe-exercises/Back-end/bloco30_MongoDB-com-Nodejs-e-POO/class30.1_Mongoose-e-MSC-Camada-de-model/src/models/Frame.ts"],"names":[],"mappings":";;;;;AAAA,uCAAgE;AAEhE,8DAAsC;AAEtC,MAAM,mBAAmB,GAAG,IAAI,iBAAM,CAAS;IAC7C,QAAQ,EAAE,MAAM;IAChB,KAAK,EAAE,MAAM;CACd,CAAC,CAAC;AAEH,MAAM,KAAM,SAAQ,oBAAkB;IACpC,YAAY,KAAK,GAAG,IAAA,gBAAmB,EAAC,OAAO,EAAE,mBAAmB,CAAC;QACnE,KAAK,CAAC,KAAK,CAAC,CAAC;IACf,CAAC;CACF;AAED,kBAAe,KAAK,CAAC","sourcesContent":["import { model as mongooseCreateModel, Schema } from 'mongoose';\nimport IFrame from '../interfaces/Frame';\nimport MongoModel from './MongoModel';\n\nconst frameMongooseSchema = new Schema<IFrame>({\n  material: String,\n  color: String,\n});\n\nclass Frame extends MongoModel<IFrame> {\n  constructor(model = mongooseCreateModel('Frame', frameMongooseSchema)) {\n    super(model);\n  }\n}\n\nexport default Frame;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8d7f47a8cd622937e3ad38629ee0150c76da3b0b"},"/home/igorlealh/dev-trybe/repositorio/trybe-exercises/Back-end/bloco30_MongoDB-com-Nodejs-e-POO/class30.1_Mongoose-e-MSC-Camada-de-model/src/models/MongoModel.ts":{"path":"/home/igorlealh/dev-trybe/repositorio/trybe-exercises/Back-end/bloco30_MongoDB-com-Nodejs-e-POO/class30.1_Mongoose-e-MSC-Camada-de-model/src/models/MongoModel.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":19},"end":{"line":3,"column":38}},"2":{"start":{"line":4,"column":18},"end":{"line":4,"column":46}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":28}},"4":{"start":{"line":10,"column":8},"end":{"line":10,"column":46}},"5":{"start":{"line":13,"column":8},"end":{"line":14,"column":65}},"6":{"start":{"line":14,"column":12},"end":{"line":14,"column":65}},"7":{"start":{"line":15,"column":8},"end":{"line":15,"column":44}},"8":{"start":{"line":18,"column":8},"end":{"line":19,"column":65}},"9":{"start":{"line":19,"column":12},"end":{"line":19,"column":65}},"10":{"start":{"line":20,"column":8},"end":{"line":20,"column":81}},"11":{"start":{"line":23,"column":8},"end":{"line":23,"column":34}},"12":{"start":{"line":26,"column":8},"end":{"line":27,"column":65}},"13":{"start":{"line":27,"column":12},"end":{"line":27,"column":65}},"14":{"start":{"line":28,"column":8},"end":{"line":28,"column":54}},"15":{"start":{"line":31,"column":0},"end":{"line":31,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":23},"end":{"line":8,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":22},"end":{"line":11,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":23},"end":{"line":16,"column":5}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":27},"end":{"line":21,"column":5}},"line":17},"4":{"name":"(anonymous_4)","decl":{"start":{"line":22,"column":4},"end":{"line":22,"column":5}},"loc":{"start":{"line":22,"column":17},"end":{"line":24,"column":5}},"line":22},"5":{"name":"(anonymous_5)","decl":{"start":{"line":25,"column":4},"end":{"line":25,"column":5}},"loc":{"start":{"line":25,"column":23},"end":{"line":29,"column":5}},"line":25}},"branchMap":{"0":{"loc":{"start":{"line":13,"column":8},"end":{"line":14,"column":65}},"type":"if","locations":[{"start":{"line":13,"column":8},"end":{"line":14,"column":65}},{"start":{"line":13,"column":8},"end":{"line":14,"column":65}}],"line":13},"1":{"loc":{"start":{"line":18,"column":8},"end":{"line":19,"column":65}},"type":"if","locations":[{"start":{"line":18,"column":8},"end":{"line":19,"column":65}},{"start":{"line":18,"column":8},"end":{"line":19,"column":65}}],"line":18},"2":{"loc":{"start":{"line":26,"column":8},"end":{"line":27,"column":65}},"type":"if","locations":[{"start":{"line":26,"column":8},"end":{"line":27,"column":65}},{"start":{"line":26,"column":8},"end":{"line":27,"column":65}}],"line":26}},"s":{"0":1,"1":1,"2":1,"3":4,"4":2,"5":4,"6":2,"7":2,"8":2,"9":1,"10":1,"11":2,"12":4,"13":2,"14":2,"15":1},"f":{"0":4,"1":2,"2":4,"3":2,"4":2,"5":4},"b":{"0":[2,2],"1":[1,1],"2":[2,2]},"inputSourceMap":{"version":3,"file":"/home/igorlealh/dev-trybe/repositorio/trybe-exercises/Back-end/bloco30_MongoDB-com-Nodejs-e-POO/class30.1_Mongoose-e-MSC-Camada-de-model/src/models/MongoModel.ts","sources":["/home/igorlealh/dev-trybe/repositorio/trybe-exercises/Back-end/bloco30_MongoDB-com-Nodejs-e-POO/class30.1_Mongoose-e-MSC-Camada-de-model/src/models/MongoModel.ts"],"names":[],"mappings":";;AAAA,uCAA+D;AAE/D,+CAA+C;AAE/C,MAAe,UAAU;IAGvB,YAAY,KAAc;QACxB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACtB,CAAC;IAEM,KAAK,CAAC,MAAM,CAAC,GAAK;QACvB,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,CAAC;IACxC,CAAC;IAEM,KAAK,CAAC,OAAO,CAAC,GAAU;QAC7B,IAAI,CAAC,IAAA,0BAAe,EAAC,GAAG,CAAC;YAAE,MAAM,IAAI,KAAK,CAAC,oBAAU,CAAC,cAAc,CAAC,CAAC;QACtE,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC;IACtC,CAAC;IAEM,KAAK,CAAC,MAAM,CAAC,GAAW,EAAE,GAAe;QAC9C,IAAI,CAAC,IAAA,0BAAe,EAAC,GAAG,CAAC;YAAE,MAAM,IAAI,KAAK,CAAC,oBAAU,CAAC,cAAc,CAAC,CAAC;QACtE,OAAO,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAClC,EAAE,GAAG,EAAE,EACP,EAAE,GAAG,GAAG,EAAoB,EAC5B,EAAE,GAAG,EAAE,IAAI,EAAE,CACd,CAAC;IACJ,CAAC;IAEM,KAAK,CAAC,IAAI;QACf,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;IAC5B,CAAC;IAEM,KAAK,CAAC,OAAO,CAAC,GAAW;QAC9B,IAAI,CAAC,IAAA,0BAAe,EAAC,GAAG,CAAC;YAAE,MAAM,IAAI,KAAK,CAAC,oBAAU,CAAC,cAAc,CAAC,CAAC;QACtE,OAAO,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC;IAChD,CAAC;CACF;AAED,kBAAe,UAAU,CAAC","sourcesContent":["import { isValidObjectId, Model, UpdateQuery } from 'mongoose';\nimport IModel from '../interfaces/IModel';\nimport { ErrorTypes } from '../errors/catalog';\n\nabstract class MongoModel<T> implements IModel<T> {\n  protected _model:Model<T>;\n\n  constructor(model:Model<T>) {\n    this._model = model;\n  }\n\n  public async create(obj:T):Promise<T> {\n    return this._model.create({ ...obj });\n  }\n\n  public async readOne(_id:string):Promise<T | null> {\n    if (!isValidObjectId(_id)) throw new Error(ErrorTypes.InvalidMongoId);\n    return this._model.findOne({ _id });\n  }\n\n  public async update(_id: string, obj: Partial<T>): Promise<T | null> {\n    if (!isValidObjectId(_id)) throw new Error(ErrorTypes.InvalidMongoId);\n    return this._model.findByIdAndUpdate(\n      { _id },\n      { ...obj } as UpdateQuery<T>,\n      { new: true },\n    );\n  }\n\n  public async read(): Promise<T[]> {\n    return this._model.find();\n  }\n\n  public async destroy(_id: string): Promise<T | null> {\n    if (!isValidObjectId(_id)) throw new Error(ErrorTypes.InvalidMongoId);\n    return this._model.findByIdAndDelete({ _id });\n  }\n}\n\nexport default MongoModel;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f0b077094dcdcaa4c495e875f68e8e5c19306f7a"},"/home/igorlealh/dev-trybe/repositorio/trybe-exercises/Back-end/bloco30_MongoDB-com-Nodejs-e-POO/class30.1_Mongoose-e-MSC-Camada-de-model/src/models/Lens.ts":{"path":"/home/igorlealh/dev-trybe/repositorio/trybe-exercises/Back-end/bloco30_MongoDB-com-Nodejs-e-POO/class30.1_Mongoose-e-MSC-Camada-de-model/src/models/Lens.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":19},"end":{"line":6,"column":38}},"4":{"start":{"line":7,"column":21},"end":{"line":7,"column":61}},"5":{"start":{"line":8,"column":27},"end":{"line":12,"column":2}},"6":{"start":{"line":15,"column":8},"end":{"line":15,"column":21}},"7":{"start":{"line":18,"column":0},"end":{"line":18,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":75},"end":{"line":16,"column":5}},"line":14}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":14,"column":16},"end":{"line":14,"column":73}},"type":"default-arg","locations":[{"start":{"line":14,"column":24},"end":{"line":14,"column":73}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1,"1":1},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[1]},"inputSourceMap":{"version":3,"file":"/home/igorlealh/dev-trybe/repositorio/trybe-exercises/Back-end/bloco30_MongoDB-com-Nodejs-e-POO/class30.1_Mongoose-e-MSC-Camada-de-model/src/models/Lens.ts","sources":["/home/igorlealh/dev-trybe/repositorio/trybe-exercises/Back-end/bloco30_MongoDB-com-Nodejs-e-POO/class30.1_Mongoose-e-MSC-Camada-de-model/src/models/Lens.ts"],"names":[],"mappings":";;;;;AAAA,uCAAgE;AAEhE,8DAAsC;AAEtC,MAAM,kBAAkB,GAAG,IAAI,iBAAM,CAAQ;IAC3C,MAAM,EAAE,MAAM;IACd,SAAS,EAAE,OAAO;IAClB,eAAe,EAAE,OAAO;CACzB,CAAC,CAAC;AAEH,MAAM,IAAK,SAAQ,oBAAiB;IAClC,YAAY,KAAK,GAAG,IAAA,gBAAmB,EAAC,MAAM,EAAE,kBAAkB,CAAC;QACjE,KAAK,CAAC,KAAK,CAAC,CAAC;IACf,CAAC;CACF;AAED,kBAAe,IAAI,CAAC","sourcesContent":["import { model as mongooseCreateModel, Schema } from 'mongoose';\nimport ILens from '../interfaces/Lens';\nimport MongoModel from './MongoModel';\n\nconst lensMongooseSchema = new Schema<ILens>({\n  degree: Number,\n  antiGlare: Boolean,\n  blueLightFilter: Boolean,\n});\n\nclass Lens extends MongoModel<ILens> {\n  constructor(model = mongooseCreateModel('Lens', lensMongooseSchema)) {\n    super(model);\n  }\n}\n\nexport default Lens;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"88e59094f7f6fede165bfd6565bb4972d0f9253d"}}